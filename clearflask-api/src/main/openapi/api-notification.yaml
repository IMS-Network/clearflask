components:
  schemas:
    Notification:
      type: object
      required:
      - projectId
      - notificationId
      - userId
      - type
      - created
      - title
      - url
      properties:
        projectId:
          type: string
        notificationId:
          type: string
        userId:
          type: string
        type:
          type: string
          enum:
          - IdeaStatusChange
          - CommentMention
          - AdminResponse
          - Other
        relatedIdeaId:
          type: string
        relatedUserId:
          type: string
        relatedCommentId:
          type: string
        created:
          type: string
          format: date-time
        title:
          type: string
        description:
          type: string
        url:
          type: string

/project/{projectId}/notification:
  get:
    operationId: notificationSearch
    tags: [Notification]
    parameters:
    - name: projectId
      in: path
      required: true
      schema:
        type: string
    - name: userId
      in: query
      required: true
      schema:
        type: string
    - name: cursor
      in: query
      schema:
        $ref: 'api-client.yaml#/components/schemas/Cursor'
    responses:
      '200':
        content:
          application/json:
            schema:
              title: NotificationSearchResponse
              type: object
              required:
              - results
              properties:
                cursor:
                  $ref: 'api-client.yaml#/components/schemas/Cursor'
                results:
                  type: array
                  items:
                    $ref: 'api-notification.yaml#/components/schemas/Notification'
/project/{projectId}/notification/clear:
  delete:
    operationId: notificationClearAll
    tags: [Notification]
    parameters:
    - name: projectId
      in: path
      required: true
      schema:
        type: string
    - name: userId
      in: query
      required: true
      schema:
        type: string
    responses:
      '200':
        $ref: 'api-client.yaml#/components/responses/Ok'
/project/{projectId}/notification/{notificationId}/clear:
  delete:
    operationId: notificationClear
    tags: [Notification]
    parameters:
    - name: projectId
      in: path
      required: true
      schema:
        type: string
    - name: notificationId
      in: path
      required: true
      schema:
        type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            title: notificationClear
            required:
            - userId
            properties:
              userId:
                type: string
    responses:
      '200':
        $ref: 'api-client.yaml#/components/responses/Ok'
