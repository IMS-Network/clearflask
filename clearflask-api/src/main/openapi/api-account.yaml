components:
  schemas:
    Plan:
      type: object
      required:
      - planid
      - title
      - period
      - perks
      properties:
        planid:
          type: string
        title:
          type: string
        # If not set, show "Contact us"
        pricing:
          type: object
          required:
          - price
          - period
          properties:
            price:
              type: integer
              format: int64
            period:
              type: string
              enum:
              - Quarterly
              - Yearly
        perks:
          type: array
          items:
            title: PlanPerk
            type: object
            required:
            - desc
            - terms
            properties:
              desc:
                type: string
              terms:
                type: string
    FeaturesTable:
      type: object
      required:
      - plans
      - features
      properties:
        plans:
          type: array
          items:
            type: string
        features:
          type: array
          items:
            type: object
            required:
            - feature
            - values
            properties:
              feature:
                type: string
              values:
                type: array
                items:
                  type: string
    AccountLogin:
      type: object
      required:
      - email
      - password
      properties:
        email:
          type: string
        password:
          type: string
    AccountSignupAdmin:
      type: object
      required:
      - planid
      - company
      - name
      - email
      - password
      - paymentToken
      properties:
        planid:
          type: string
        company:
          type: string
        name:
          type: string
        email:
          type: string
        password:
          type: string
        phone:
          type: string
        paymentToken:
          type: string
    AccountAdmin:
      type: object
      required:
      - plans
      - company
      - name
      - email
      properties:
        plans:
          type: array
          items:
            $ref: 'api-account.yaml#/components/schemas/Plan'
        company:
          type: string
        name:
          type: string
        email:
          type: string
        phone:
          type: string

/admin/plan:
  get:
    operationId: plansGet
    tags: [Plan]
    parameters:
    responses:
      '200':
        content:
          application/json:
            schema:
              title: PlansGetResponse
              type: object
              required:
              - plans
              - featuresTable
              properties:
                plans:
                  type: array
                  items:
                    $ref: 'api-account.yaml#/components/schemas/Plan'
                featuresTable:
                  $ref: 'api-account.yaml#/components/schemas/FeaturesTable'
/admin/account/signup:
  post:
    operationId: accountSignupAdmin
    tags: [AccountAdmin]
    parameters:
    - name: signup
      in: query
      required: true
      schema:
        $ref: 'api-account.yaml#/components/schemas/AccountSignupAdmin'
    responses:
      '200':
        content:
          application/json:
            schema:
              $ref: 'api-account.yaml#/components/schemas/AccountAdmin'
/admin/account/bind:
  post:
    operationId: accountBindAdmin
    tags: [AccountAdmin]
    responses:
      '200':
        content:
          application/json:
            schema:
              $ref: 'api-account.yaml#/components/schemas/AccountAdmin'
      '404':
        $ref: 'api-client.yaml#/components/responses/NotFound'
/admin/account/login:
  post:
    operationId: accountLoginAdmin
    tags: [AccountAdmin]
    parameters:
    - name: credentials
      in: query
      required: true
      schema:
        $ref: 'api-account.yaml#/components/schemas/AccountLogin'
    responses:
      '200':
        content:
          application/json:
            schema:
              $ref: 'api-account.yaml#/components/schemas/AccountAdmin'
/admin/account/logout:
  post:
    operationId: accountLogoutAdmin
    tags: [AccountAdmin]
    responses:
      '200':
        $ref: 'api-client.yaml#/components/responses/Ok'
